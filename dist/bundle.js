!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){let{arrayOfButtonKeys:n,VirtualKeyboardInput:a,keyState:l}=i(1);window.localStorage.getItem("virtualKeyBoardLang")||window.localStorage.setItem("virtualKeyBoardLang","en");const s=document.querySelector("body"),r=document.createElement("div");r.className="keyboard",s.appendChild(r);const o=document.createElement("textarea");o.className="keyboard__text-area",o.id="kbText",o.autofocus=!0,o.rows=10;const d=new a(o);r.appendChild(o);const u=document.createElement("div");function c(e){return e.type?e.type:e.languages[window.localStorage.getItem("virtualKeyBoardLang")].type}function f(e,t){let i="number"===c(e)?l.shift:l.shift||l.caps;return t&&(i="shifted"===t),e.initial?i?e.shifted:e.initial:i?e.languages[window.localStorage.getItem("virtualKeyBoardLang")].shifted:e.languages[window.localStorage.getItem("virtualKeyBoardLang")].initial}u.className="keyboard-panel",r.appendChild(u),n.forEach(e=>{const t=document.createElement("div");t.className="keyboard-line",u.appendChild(t),e.forEach(e=>{const i=document.createElement("div");i.className="keyboard-line__button",i.setAttribute("key",e.code);const n=document.createElement("div");n.className="keyboard-line__button-main-text","letter"!==c(e)&&"functional"!==c(e)||i.classList.add("keyboard-line__button_single"),i.appendChild(n),n.innerText=f(e,"initial");const a=document.createElement("div");if(a.className="keyboard-line__button-shifted-text",i.appendChild(a),"number"===c(e)&&(a.innerText=f(e,"shifted")),i.addEventListener("mousedown",()=>{i.classList.add("keyboard-line__button_pressed")}),"number"===c(e)||"letter"===c(e)){let t,n=!1,a=!1;i.addEventListener("mousedown",()=>{n=!1,a=!1,d.insert(f(e)),t=setTimeout((function i(){d.insert(f(e)),t=setTimeout(i,50)}),500)}),i.addEventListener("mouseup",()=>{clearTimeout(t),n=!0,a&&i.classList.remove("keyboard-line__button_pressed")}),i.addEventListener("mouseleave",()=>{clearTimeout(t),n=!0,a&&i.classList.remove("keyboard-line__button_pressed")}),i.addEventListener("animationend",()=>{a=!0,n&&i.classList.remove("keyboard-line__button_pressed")})}else if(i.classList.add("keyboard-line__button-main-text_"+e.initial.toLowerCase().replace(" ","-")),"Space"===e.initial&&(i.innerText=""),e.isClick)i.addEventListener("click",()=>{e.func(i,d)});else{let t,n=!1,a=!1;i.addEventListener("mousedown",()=>{n=!1,a=!1,e.func(d),t=setTimeout((function i(){e.func(d),t=setTimeout(i,50)}),500)}),i.addEventListener("mouseup",()=>{clearTimeout(t),n=!0,a&&i.classList.remove("keyboard-line__button_pressed")}),i.addEventListener("mouseleave",()=>{clearTimeout(t),n=!0,a&&i.classList.remove("keyboard-line__button_pressed")}),i.addEventListener("animationend",()=>{a=!0,n&&i.classList.remove("keyboard-line__button_pressed")})}t.appendChild(i)})});const y=document.createElement("div");function p(){window.localStorage.setItem("virtualKeyBoardLang","ru"===window.localStorage.getItem("virtualKeyBoardLang")?"en":"ru"),[...document.querySelectorAll(".keyboard-panel > .keyboard-line")].forEach((e,t)=>{e.querySelectorAll(".keyboard-line__button").forEach((e,i)=>{const a=n[t][i];if("number"===c(a)||"letter"===c(a)){if(e.classList.forEach(t=>{"keyboard-line__button"!==t&&e.classList.remove(t)}),e.querySelector(".keyboard-line__button-main-text").innerText=f(a,"initial"),"number"===c(a)){e.querySelector(".keyboard-line__button-shifted-text").innerText=f(a,"shifted")}else e.classList.add("keyboard-line__button_single")}})})}y.innerText="To change layout use Shift + Left Alt (developed on Windows OS)",y.className="keyboard__message",r.appendChild(y),document.addEventListener("keydown",e=>{const t=document.querySelector(`div[key=${e.code}]`);if(t){if("CapsLock"===e.code){const e=document.querySelector('div[key="CapsLock"');e.classList.contains("keyboard-line__button_pressed")?(e.classList.remove("keyboard-line__button_pressed"),l.caps=!1):(e.classList.add("keyboard-line__button_pressed"),l.caps=!0)}else t.classList.add("keyboard-line__button_pressed");("Alt"===e.key||"AltGraph"===e.key||"Shift"===e.key)&&e.shiftKey&&e.altKey&&p(),"Tab"===e.code?(e.preventDefault(),d.insert("\t")):"AltLeft"!==e.code&&"AltRight"!==e.code||e.preventDefault(),(l.caps&&e.key.toLowerCase()===e.key||!l.caps&&e.key.toUpperCase()===e.key)&&(e.preventDefault(),d.insert(l.caps?e.key.toUpperCase():e.key.toLowerCase()))}}),document.addEventListener("keyup",e=>{const t=document.querySelector(`div[key=${e.code}]`);t&&"CapsLock"!==e.code&&t.classList.remove("keyboard-line__button_pressed")}),document.addEventListener("click",e=>{e.target.classList.contains("keyboard-line__button")||e.target.parentElement&&e.target.parentElement.classList.contains("keyboard-line__button")||d.focus(),l.alt&&(l.shift||l.shiftRight)&&(l.alt=!1,l.shift=!1,l.shiftRight=!1,document.querySelectorAll("div[key^=Shift]").forEach(e=>e.classList.remove("keyboard-line__button_pressed")),document.querySelectorAll("div[key=AltLeft]").forEach(e=>e.classList.remove("keyboard-line__button_pressed")),p())})},function(e,t,i){let n=i(2);const a=[];a.push([{languages:{ru:{type:"letter",initial:"ё",shifted:"Ё"},en:{type:"number",initial:"`",shifted:"~"}},code:"Backquote"},{type:"number",initial:"1",shifted:"!",code:"Digit1"},{type:"number",languages:{ru:{initial:"2",shifted:'""'},en:{initial:"2",shifted:"@"}},code:"Digit2"},{type:"number",languages:{ru:{initial:"3",shifted:"№"},en:{initial:"3",shifted:"#"}},code:"Digit3"},{type:"number",languages:{ru:{initial:"4",shifted:";"},en:{initial:"4",shifted:"$"}},code:"Digit4"},{type:"number",initial:"5",shifted:"%",code:"Digit5"},{type:"number",languages:{ru:{initial:"6",shifted:":"},en:{initial:"6",shifted:"^"}},code:"Digit6"},{type:"number",languages:{ru:{initial:"7",shifted:"?"},en:{initial:"7",shifted:"&"}},code:"Digit7"},{type:"number",initial:"8",shifted:"*",code:"Digit8"},{type:"number",initial:"9",shifted:"(",code:"Digit9"},{type:"number",initial:"0",shifted:")",code:"Digit0"},{type:"number",languages:{ru:{initial:"-",shifted:"_"},en:{initial:"-",shifted:"_"}},code:"Minus"},{type:"number",initial:"=",shifted:"+",code:"Equal"},{type:"functional",initial:"Backspace",code:"Backspace",func:n.backspace}]),a.push([{type:"functional",initial:"Tab",func:e=>n.insert("\t",e),code:"Tab"},{type:"letter",languages:{ru:{initial:"й",shifted:"Й"},en:{initial:"q",shifted:"Q"}},code:"KeyQ"},{type:"letter",languages:{ru:{initial:"ц",shifted:"Ц"},en:{initial:"w",shifted:"W"}},code:"KeyW"},{type:"letter",languages:{ru:{initial:"у",shifted:"У"},en:{initial:"e",shifted:"E"}},code:"KeyE"},{type:"letter",languages:{ru:{initial:"к",shifted:"К"},en:{initial:"r",shifted:"R"}},code:"KeyR"},{type:"letter",languages:{ru:{initial:"е",shifted:"Е"},en:{initial:"t",shifted:"T"}},code:"KeyT"},{type:"letter",languages:{ru:{initial:"н",shifted:"Н"},en:{initial:"y",shifted:"Y"}},code:"KeyY"},{type:"letter",languages:{ru:{initial:"г",shifted:"Г"},en:{initial:"u",shifted:"U"}},code:"KeyU"},{type:"letter",languages:{ru:{initial:"ш",shifted:"Ш"},en:{initial:"i",shifted:"I"}},code:"KeyI"},{type:"letter",languages:{ru:{initial:"щ",shifted:"Щ"},en:{initial:"o",shifted:"O"}},code:"KeyO"},{type:"letter",languages:{ru:{initial:"з",shifted:"З"},en:{initial:"p",shifted:"P"}},code:"KeyP"},{languages:{ru:{type:"letter",initial:"х",shifted:"Х"},en:{type:"number",initial:"[",shifted:"{"}},code:"BracketLeft"},{languages:{ru:{type:"letter",initial:"ъ",shifted:"Ъ"},en:{type:"number",initial:"]",shifted:"}"}},code:"BracketRight"},{type:"number",languages:{ru:{initial:"\\",shifted:"/"},en:{initial:"\\",shifted:"|"}},code:"Backslash"},{type:"functional",initial:"Delete",func:n.del,code:"Delete"}]),a.push([{type:"functional",initial:"Caps Lock",isClick:!0,func:(e,t)=>n.functionalKey(e,"caps",t),code:"CapsLock"},{type:"letter",languages:{ru:{initial:"ф",shifted:"Ф"},en:{initial:"a",shifted:"A"}},code:"KeyA"},{type:"letter",languages:{ru:{initial:"ы",shifted:"Ы"},en:{initial:"s",shifted:"S"}},code:"KeyS"},{type:"letter",languages:{ru:{initial:"в",shifted:"В"},en:{initial:"d",shifted:"D"}},code:"KeyD"},{type:"letter",languages:{ru:{initial:"а",shifted:"А"},en:{initial:"f",shifted:"F"}},code:"KeyF"},{type:"letter",languages:{ru:{initial:"п",shifted:"П"},en:{initial:"g",shifted:"G"}},code:"KeyG"},{type:"letter",languages:{ru:{initial:"р",shifted:"Р"},en:{initial:"h",shifted:"H"}},code:"KeyH"},{type:"letter",languages:{ru:{initial:"о",shifted:"О"},en:{initial:"j",shifted:"J"}},code:"KeyJ"},{type:"letter",languages:{ru:{initial:"л",shifted:"Л"},en:{initial:"k",shifted:"K"}},code:"KeyK"},{type:"letter",languages:{ru:{initial:"д",shifted:"Д"},en:{initial:"l",shifted:"L"}},code:"KeyL"},{languages:{ru:{type:"letter",initial:"ж",shifted:"Ж"},en:{type:"number",initial:";",shifted:":"}},code:"Semicolon"},{languages:{ru:{type:"letter",initial:"э",shifted:"Э"},en:{type:"number",initial:"'",shifted:'"'}},code:"Quote"},{type:"functional",initial:"Enter",func:e=>n.insert("\n",e),code:"Enter"}]),a.push([{type:"functional",initial:"Shift",isClick:!0,func:(e,t)=>n.functionalKey(e,"shift",t),code:"ShiftLeft"},{type:"letter",languages:{ru:{initial:"я",shifted:"Я"},en:{initial:"z",shifted:"Z"}},code:"KeyZ"},{type:"letter",languages:{ru:{initial:"ч",shifted:"Ч"},en:{initial:"x",shifted:"X"}},code:"KeyX"},{type:"letter",languages:{ru:{initial:"с",shifted:"С"},en:{initial:"c",shifted:"C"}},code:"KeyC"},{type:"letter",languages:{ru:{initial:"м",shifted:"М"},en:{initial:"v",shifted:"V"}},code:"KeyV"},{type:"letter",languages:{ru:{initial:"и",shifted:"И"},en:{initial:"b",shifted:"B"}},code:"KeyB"},{type:"letter",languages:{ru:{initial:"т",shifted:"Т"},en:{initial:"n",shifted:"N"}},code:"KeyN"},{type:"letter",languages:{ru:{initial:"ь",shifted:"Ь"},en:{initial:"m",shifted:"M"}},code:"KeyM"},{languages:{ru:{type:"letter",initial:"б",shifted:"Б"},en:{type:"number",initial:",",shifted:"<"}},code:"Comma"},{languages:{ru:{type:"letter",initial:"ю",shifted:"Ю"},en:{type:"number",initial:".",shifted:">"}},code:"Period"},{type:"number",languages:{ru:{initial:".",shifted:","},en:{initial:"/",shifted:"?"}},code:"Slash"},{type:"functional",initial:"↑",func:n.arrowUp,code:"ArrowUp"},{type:"functional",initial:"Shift",isClick:!0,func:(e,t)=>n.functionalKey(e,"shiftRight",t),code:"ShiftRight"}]),a.push([{type:"functional",initial:"Ctrl",isClick:!0,func:(e,t)=>n.functionalKey(e,"ctrl",t),code:"ControlLeft"},{type:"functional",initial:"Win",isClick:!0,func:(e,t)=>n.functionalKey(e,"windows",t),code:"MetaLeft"},{type:"functional",initial:"Alt",isClick:!0,func:(e,t)=>n.functionalKey(e,"alt",t),code:"AltLeft"},{type:"functional",initial:"Space",func:e=>n.insert(" ",e),code:"Space"},{type:"functional",initial:"Alt",isClick:!0,func:(e,t)=>n.functionalKey(e,"altRight",t),code:"AltRight"},{type:"functional",initial:"←",func:n.arrowLeft,code:"ArrowLeft"},{type:"functional",initial:"↓",func:n.arrowDown,code:"ArrowDown"},{type:"functional",initial:"→",func:n.arrowRight,code:"ArrowRight"},{type:"functional",initial:"Ctrl",isClick:!0,func:(e,t)=>n.functionalKey(e,"ctrlRight",t),code:"ControlRight"}]),e.exports={arrayOfButtonKeys:a,VirtualKeyboardInput:n.VirtualKeyboardInput,keyState:n.keyState}},function(e,t,i){let n,a=i(3);class l{constructor(e){this.textArea=e}focus(e=this.textArea.selectionStart){setTimeout(()=>{this.textArea.focus(),this.textArea.selectionStart=e,this.textArea.selectionEnd=e},0)}insert(e){const t=this.textArea.selectionStart,i=this.textArea.selectionEnd;this.textArea.value=this.textArea.value.substring(0,t)+e+this.textArea.value.substring(i),this.focus(t+1)}set value(e){this.textArea.value=e}get value(){return this.textArea.value}get end(){return this.textArea.selectionEnd}get start(){return this.textArea.selectionStart}}e.exports={initialize:function(e){n=new l(e)},backspace:function(e=n){if(!(e instanceof l))return void console.error("wrong type of input "+e);let t=e.start;const i=e.end;e.value=e.value.substring(0,t-1)+e.value.substring(i),t>0&&(t-=1),e.focus(t)},insert:function(e,t=n){t.insert(e)},del:function(e=n){const t=e.start,i=e.end;e.value=e.value.substring(0,t)+e.value.substring(i+1),e.focus(t)},functionalKey:function(e,t,i=n){a[t]=!a[t],a[t]?e.classList.add("keyboard-line__button_pressed"):e.classList.remove("keyboard-line__button_pressed"),i.focus()},arrowUp:function(e=n){const t=e.start;let i=e.value;const a=i.substring(0,t).lastIndexOf("\n")+1,l=t-a;i=i.substring(0,a-1);const s=i.lastIndexOf("\n")+1,r=a-s-1;let o=s+(l>r?r:l);o<0&&(o=0),e.focus(o)},arrowLeft:function(e=n){const t=e.start;e.focus(t-1)},arrowDown:function(e=n){const t=e.start,i=e.value,a=t-(i.substring(0,t).lastIndexOf("\n")+1);let l=i.indexOf("\n",t)+1;l<1&&(l=i.length);let s=i.indexOf("\n",l)-l;s<0&&(s=i.length-l);let r=l+(a>s?s:a);r<0&&(r=i.length),e.focus(r)},arrowRight:function(e=n){const t=e.start;e.focus(t+1)},VirtualKeyboardInput:l,keyState:a}},function(e,t){e.exports={shift:!1,shiftRight:!1,ctrl:!1,ctrlRight:!1,alt:!1,altRight:!1,windows:!1,caps:!1}}]);